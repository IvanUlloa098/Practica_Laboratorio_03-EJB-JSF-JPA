<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js" type="javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js" type="javascript"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" type="javascript"></script>
<script src='https://kit.fontawesome.com/a076d05399.js' type=""></script>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
<h:head>
    <title>Registro Producto</title>

    <style type="">
        h3{
            margin-left: 5%;
        }
        
        .column {
		   float: left;
		   width: 50%;
		   margin-left: 5%;
		}

    </style>

</h:head>

<h:body style="background-image: url('https://www.evcourierexpress.com/assets/img/box.gif');background-size:54%; background-repeat: no-repeat">
    <div class="navbar navbar-inverse" style="background-color: gainsboro">
        <div class="">
            <div class="navbar-brand"><i class="material-icons" style="font-size:30px;color:red">shopping_cart</i>Tus bodegas</div>
        </div>
        <h:form>
            <h:commandLink/>
            <h:commandLink/>
            <h:commandLink action="#{productoBean.redirectProducto}">Gesti√≥n Productos <i class='fab fa-codepen' style='font-size:24px'/></h:commandLink>
            <h:commandLink action="#{productoBean.redirectBodegas}">Administrar Bodegas <i class='fab fa-codepen' style='font-size:24px'/></h:commandLink>

            <h:commandLink action="#{productoBean.deleteCookie}">Cerrar Sesion  <i class="fa fa-window-close" style="font-size:24px"/></h:commandLink>
        </h:form>
        <h:outputLabel value="#{productoBean.cookie}"/>
    </div>
   
   <div style="float: left;width: 40%;margin-right: 1%;margin-left: 5%;margin-top: 5%;">
   
   <h:form style="background-color: #95bf95d1; padding: 15px;">
    
        <h:outputText value="Agregar a Stock" style=" color: #212529;font-style: inherit;font-size: 30px;display: block;"/>

        <h:outputText value="Ingrese la Cantidad a ingresar:" style="float: left; background-color: dimgrey; color: #f0f8ff;font-style: inherit;font-size: 20px;display: block;"/>
        <h:inputText id="stock_mas" value="#{productoBean.stock_mas}" style="width: 45%;float: left"></h:inputText>
        <h:message for="stock_mas"></h:message>

		<h:selectOneMenu styleClass="btn btn-secondary dropdown-toggle" value="#{productoBean.selectedProducto}" style="margin-right: 15%; margin-top: 5%;">
            <f:selectItems  value="#{productoBean.productos}" var="producto" itemValue="#{producto.codigo}" itemLabel="#{producto.nombre}" pt:styleClass="dropdown-item"/>
        </h:selectOneMenu>

        <h:selectOneMenu styleClass="btn btn-secondary dropdown-toggle" value="#{productoBean.bodega_stock}" style="margin-right: 5%; margin-top: 5%;">
            <f:selectItems value="#{productoBean.bodegas}" var="bodegas" itemValue="#{bodegas.codigo}" itemLabel="#{bodegas.nombre}" pt:styleClass="dropdown-item"/>    
        </h:selectOneMenu>

        <h:commandButton action="#{productoBean.aumentarStock}" value="Actualizar" class="btn btn-primary" style="margin-left: 63%;width: 25%;margin-top: 5%"></h:commandButton>

    </h:form>
   
   </div> 
   
   
   
   
   <div style="float: left;width: 20%;margin-right: 5%;margin-top: 5%;">
   		
   		<div style="float: left; width: 20%;">
   			
   			<h1 style="margin-left:12%;" >Categorias:</h1>
		    <h:dataTable  style="width: 37%; height:200px;margin-top: 2%; background-color:darkseagreen;margin-top: 9%;margin-left: 36%;" value="#{productoBean.list}" var="c" styleClass="table table-dark table-striped"
		                  headerClass="cabeceraTabla" rowClasses="filaPar,filaImpar" >
		        <h:column>
		            <f:facet name="header">Nombre</f:facet>
		            <h:outputText value="#{c.nombre}"  />
		            
		        </h:column>
		    </h:dataTable>
	   		
   		</div>
   		
	    
	    <div style="float: left; width: 50%; ">
	    	
	    	<h1 style="margin-left:120%">Productos:</h1>
		     <h:dataTable  style="width: 37%; height:200px;margin-top: 2%;background-color:darkseagreen;
    			margin-left: 120%;" value="#{productoBean.productos_total}" var="p" styleClass="table table-dark table-striped"
		                  headerClass="cabeceraTabla" rowClasses="filaPar,filaImpar" >
		        <h:column>
		            <f:facet name="header">Nombre</f:facet>
		            <h:outputText value="#{p.nombre}"  />
		           
		            
		        </h:column>
		          <h:column>
		        
		           <f:facet name="header">PrecioCompra</f:facet>
		            <h:outputText value="#{p.precioCompra}"  />
		            
		        </h:column>
		          <h:column>
		        
		           <f:facet name="header">PrecioVenta</f:facet>
		            <h:outputText value="#{p.precioVenta}"  />
		            
		        </h:column>
		        
		        <h:column>
		        
		           <f:facet name="header">Categoria</f:facet>
		            <h:outputText value="#{p.categoria.nombre}"  />
		            
		        </h:column>
		        
		        <h:column>
		        
		           <f:facet name="header">Stock Total</f:facet>
		            <h:outputText value="#{p.stock}"  />
		            
		        </h:column>
	    
	    	</h:dataTable>
	    </div>
   
   		
   </div>
   
   <div style="float: left;width: 40%;margin-right: 1%;margin-left: 5%;margin-top: 10%; margin-bottom: 10%;">
   
   		<h:form style="margin-left: 20%;">
	        <fieldset>
	            
	            <br /><h2>Disponibilidad</h2>
	            
	            <h:selectOneMenu value="#{productoBean.bodega_inventario}">
	            	
	                <f:selectItems value="#{productoBean.bodegas}" var="bodega" itemValue="#{bodega.codigo}" itemLabel="#{bodega.nombre}" pt:styleClass="dropdown-item"/>
	                <f:ajax render ="tabla" event="change" />
	            </h:selectOneMenu>
	
	            <h:dataTable   value="#{productoBean.productos_bodega}" var="c" styleClass="table table-dark table-striped"
	                          headerClass="cabeceraTabla" rowClasses="filaPar,filaImpar" style=" width: 35%; margin-top: 2%;background-color:darkseagreen " id="tabla">
	
					<h:column>
	                    <f:facet name="header">Nombre</f:facet>
	                    <h:outputText value="#{c.nombre}"  />
	                </h:column>
	
	                <h:column>
	                    <f:facet name="header">Precio Venta</f:facet>
	                    <h:outputText value="#{c.precioVenta}"  />
	                </h:column>
	                
	                <h:column>
	                    <f:facet name="header">Precio Venta</f:facet>
	                    <h:outputText value="#{c.categoria.nombre}"  />
	                </h:column>
	                
	                <h:column>
	                    <f:facet name="header">Stock</f:facet>
	                    <h:outputText value="#{c.stock}"  />
	                </h:column>
	            </h:dataTable>
	        </fieldset>
	    </h:form>
	    
   
   </div>

</h:body>
</html>