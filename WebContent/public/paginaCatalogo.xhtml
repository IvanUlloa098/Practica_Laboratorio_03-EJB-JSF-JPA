<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
<link rel="stylesheet" type="text/css" href="css/style.css" media="screen"/>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js" type="javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js" type="javascript"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" type="javascript"></script>

<script type="text/javascript">
    function mostrarInformacion() {
        let component = document.getElementById('mas_info');
        component.style.display = 'block';
    }

    function ocultarInformacion() {
        let component = document.getElementById('mas_info');
        component.style.display = 'none';
    }
</script>

<h:head>
    <title>Catalogo De Productos</title>
</h:head>

<h:body style="margin-bottom: 5%; background-color: #a1b3ba; background-image: url('https://64.media.tumblr.com/3ee53ca82e524e8849913567a51d9079/tumblr_moel85NxLx1qmxiy0o1_500.gif');background-size:100%; background-repeat: no-repeat"  >

   
    <h:panelGroup>
        <div class="navbar navbar-expand-sm bg-dark navbar-dark">
            <a class="navbar-brand" style="margin-right: 20px">Bodegas</a>
            <h:form style="margin-left: auto; width: 70%; max-width: 700px">
                <h:inputText id="txtProducto" class="form-control mr-sm-2"
                             style="margin-left: auto; margin-right: 10px; max-width: 700px">
                    <f:ajax event="keyup" listener="#{catalogoBean.filtrarProductos}" render=":table_father"/>
                </h:inputText>
            </h:form>

            <h:form>
                <fieldset>
                    <h:selectOneMenu styleClass="btn btn-secondary dropdown-toggle"
                                     style="margin-left: 10px; margin-right: 10px"
                                     value="#{catalogoBean.categoriaSeleccionada}">
                        <f:selectItems value="#{catalogoBean.categoriasList}" var="categoria" itemValue="#{categoria.codigo}" itemLabel="#{categoria.nombre}" pt:styleClass="dropdown-item"/>
                        <f:ajax render="tabla1"/>
                    </h:selectOneMenu>
                </fieldset>
            </h:form>
            
            <h:form>
            <h:commandButton styleClass="btn btn-primary" value="Iniciar Sesion" action="#{catalogoBean.redirect}"  style="margin-left: auto; float: right"/>
            </h:form>
        </div>

        
        <br/>
        
         <h:dataTable id="tabla1" value="#{catalogoBean.filtrado2}" var="p"
                         styleClass="table table-dark table-striped" style="width: 70%;
             margin-left: auto; margin-right: auto;">

                <h:column>
		            <f:facet name="header">Nombre</f:facet>
		            <h:outputText value="#{p.nombre}"  />
		           
		            
		        </h:column>
		          <h:column>
		        
		           <f:facet name="header">PrecioCompra</f:facet>
		            <h:outputText value="#{p.precioCompra}"  />
		            
		        </h:column>
		          <h:column>
		        
		           <f:facet name="header">PrecioVenta</f:facet>
		            <h:outputText value="#{p.precioVenta}"  />
		            
		        </h:column>
		        
		        <h:column>
		        
		           <f:facet name="header">Categoria</f:facet>
		            <h:outputText value="#{p.categoria.nombre}"  />
		            
		        </h:column>
		        
		        <h:column>
		        
		           <f:facet name="header">Stock Total</f:facet>
		            <h:outputText value="#{p.stock}"  />
		            
		        </h:column>
                
            </h:dataTable>
        
        
        
        
        
    </h:panelGroup>
</h:body>
</html>
